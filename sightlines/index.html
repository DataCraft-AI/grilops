<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Sightlines - grilops API documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Sightlines";
    var mkdocs_page_input_path = "sightlines.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> grilops API documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../symbols/">Symbols</a>
                </li>
                <li class="">
                    
    <a class="" href="../geometry/">Geometry</a>
                </li>
                <li class="">
                    
    <a class="" href="../grids/">Grids</a>
                </li>
                <li class="">
                    
    <a class="" href="../loops/">Loops</a>
                </li>
                <li class="">
                    
    <a class="" href="../regions/">Regions</a>
                </li>
                <li class="">
                    
    <a class="" href="../shapes/">Shapes</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Sightlines</a>
    <ul class="subnav">
            
    </ul>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">grilops API documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>API &raquo;</li>
        
      
    
    <li>Sightlines</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="grilops.sightlines">grilops.sightlines</h1>

<p>This module supports puzzles that must check sightlines through grids.</p>
<p>A sightline is a straight line through a symbol grid. It may have a stopping
condition, determined based on the symbol encountered in the grid, which, when
satisfied, results in no further symbols along the line being counted. It may
also have a custom counting or accumulation function.</p>
<p>A sightline always stops when it reaches a point not in the grid. So, if the
grid is not convex, a sightline might stop at a hole in the middle of the
grid. If it is desired that a sightline continues through such holes, the
holes should be treated as part of the grid, e.g., as black cells.</p>
<h2 id="grilops.sightlines.count_cells">count_cells</h2>

<pre><code class="python">count_cells(symbol_grid:grilops.grids.SymbolGrid, start:grilops.geometry.Point, direction:grilops.geometry.Vector, count:Callable[[z3.z3.ArithRef], z3.z3.ArithRef]=&lt;function &lt;lambda&gt; at 0x7fe22d90df28&gt;, stop:Callable[[z3.z3.ArithRef], z3.z3.BoolRef]=&lt;function &lt;lambda&gt; at 0x7fe22d933048&gt;)
</code></pre>

<p>Returns a count of cells along a sightline through a grid.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>symbol_grid (SymbolGrid)</strong>: The SymbolGrid to check against.</li>
<li><strong>start (Point)</strong>: The location of the cell where the sightline should begin.
    This is the first cell checked.</li>
<li><strong>direction (Vector)</strong>: The direction to advance to reach the next cell in the
    sightline.</li>
<li><strong>count (Callable[[ArithRef], ArithRef])</strong>: A function that accepts a symbol as
    an argument and returns the integer value to add to the count when this
    symbol is encountered. By default, each symbol will count with a value of
    one.</li>
<li><strong>stop (Callable[[ArithRef], BoolRef])</strong>: A function that accepts a symbol as
    an argument and returns True if we should stop following the sightline
    when this symbol is encountered. By default, the sightline will continue
    to the edge of the grid.</li>
</ul>
<h2 id="grilops.sightlines.reduce_cells">reduce_cells</h2>

<pre><code class="python">reduce_cells(symbol_grid:grilops.grids.SymbolGrid, start:grilops.geometry.Point, direction:grilops.geometry.Vector, initializer:~Accumulator, accumulate:Callable[[~Accumulator, z3.z3.ArithRef], ~Accumulator], stop:Callable[[~Accumulator, z3.z3.ArithRef], z3.z3.BoolRef]=&lt;function &lt;lambda&gt; at 0x7fe22d933158&gt;)
</code></pre>

<p>Returns a computation of a sightline through a grid.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><strong>symbol_grid (SymbolGrid)</strong>: The SymbolGrid to check against.</li>
<li><strong>start (Point)</strong>: The location of the cell where the sightline should begin.
    This is the first cell checked.</li>
<li><strong>direction (Vector)</strong>: The direction to advance to reach the next cell in the
    sightline.</li>
<li><strong>initializer (Accumulator)</strong>: The initial value for the accumulator.</li>
<li><strong>accumulate (Callable[[Accumulator, ArithRef], Accumulator])</strong>: A function that
    accepts an accumulated value and a symbol as arguments, and returns a new
    accumulated value. This function is used to determine a new accumulated
    value for each cell along the sightline, based on the accumulated value
    from the previously encountered cells as well as the symbol in the
    current cell.</li>
<li><strong>stop (Callable[[Accumulator, ArithRef], BoolRef])</strong>: A function that accepts an
    accumulated value and a symbol as arguments, and returns True if we
    should stop following the sightline when this symbol is encountered. By
    default, the sightline will continue to the edge of the grid.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../shapes/" class="btn btn-neutral" title="Shapes"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../shapes/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
